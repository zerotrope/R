setwd("~/ACADEMICS/DSTI/19 - Survival Analysis/Project")
?psb
survfit(Surv(time, status) ~ 1, data = train)
library(ggplot2)
library(readr)
library(glmnet)
library(survival)
?pbc
head(pbc)
summary(pbc)
hist(pbc$stage)
table(pbc$stage)
data <- pbc
data$event <- 0 + (data$status == 2)
summary(data)
table(data$status)
table(data$event)
test <- subset(data, is.na(data$trt))
train <- subset(data, data$trt != "NA")
summary(data)
# cholesterol
fit.chol <- (lm(chol ~ age, data = train))
train$chol[is.na(train$chol)] <-
predict(fit.chol, newdata = subset(train, is.na(chol)))
# copper
fit.copper <- (lm(copper ~ age, data = train))
train$copper[is.na(train$copper)] <-
predict(fit.copper, newdata = subset(train, is.na(copper)))
# trig
fit.trig <- (lm(trig ~ age, data = train))
train$trig[is.na(train$trig)] <-
predict(fit.trig, newdata = subset(train, is.na(trig)))
# platelet
fit.platelet <- (lm(platelet ~ age, data = train))
train$platelet[is.na(train$platelet)] <-
predict(fit.platelet, newdata = subset(train, is.na(platelet)))
summary(train)
train$y <- with(train, Surv(time / 30.5, event))
head(train)
summary(train$y)
survfit(Surv(time, status) ~ 1, data = train)
?psb
?pbc
?lung
?pbc
library(ggplot2)
library(readr)
library(glmnet)
library(survival)
?pbc
head(pbc)
summary(pbc)
hist(pbc$stage)
table(pbc$stage)
data <- pbc
data$event <- 0 + (data$status == 2)
summary(data)
table(data$status)
table(data$event)
data$trt <- factor(data$trt)
data$status <- factor(data$status)
data$stage <- factor(data$stage)
summary(data)
?lung
?pbc
spiders
data$spiders
data$hepato
data$edema
data$ascites
data$protime
data$platelet
library(ggplot2)
library(readr)
library(glmnet)
library(survival)
?pbc
#head(pbc)
#summary(pbc)
#hist(pbc$stage)
#table(pbc$stage)
data <- pbc
data$death <- 0 + (data$status == 2)
data$transp <- 0 + (data$status == 1)
#summary(data)
#table(data$status)
#table(data$event)
data$trt <- factor(data$trt)
data$status <- factor(data$status)
data$stage <- factor(data$stage)
data$ascites <- factor(data$ascites)
data$edema <- factor(data$edema)
data$spiders <- factor(data$spiders)
summary(data)
data$transp
library(ggplot2)
library(readr)
library(glmnet)
library(survival)
?pbc
#head(pbc)
#summary(pbc)
#hist(pbc$stage)
#table(pbc$stage)
data <- pbc
data$death <- factor(0 + (data$status == 2))
data$transp <- factor(0 + (data$status == 1))
#summary(data)
#table(data$status)
#table(data$event)
data$trt <- factor(data$trt)
data$status <- factor(data$status)
data$stage <- factor(data$stage)
data$ascites <- factor(data$ascites)
data$edema <- factor(data$edema)
data$spiders <- factor(data$spiders)
summary(data)
test <- subset(data, is.na(data$trt))
train <- subset(data, data$trt != "NA")
summary(data)
test <- subset(data, is.na(data$trt))
train <- subset(data, data$trt != "NA")
summary(data)
summary(test)
summary(train)
